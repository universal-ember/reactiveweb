{"version":3,"file":"utils.js","sources":["../src/utils.ts"],"sourcesContent":["import type { ArgsWrapper, Thunk } from './resource/types.ts';\n\nexport const DEFAULT_THUNK = () => [];\n\nexport function normalizeThunk(thunk?: Thunk): ArgsWrapper {\n  if (!thunk) {\n    return { named: {}, positional: [] };\n  }\n\n  const args = thunk();\n\n  if (Array.isArray(args)) {\n    return { named: {}, positional: args };\n  }\n\n  if (!args) {\n    return { named: {}, positional: [] };\n  }\n\n  /**\n   * Hopefully people aren't using args named \"named\"\n   */\n  if ('positional' in args || 'named' in args) {\n    return args;\n  }\n\n  return { named: args as Record<string, unknown>, positional: [] };\n}\n"],"names":["DEFAULT_THUNK","normalizeThunk","thunk","named","positional","args","Array","isArray"],"mappings":"AAEO,MAAMA,aAAa,GAAGA,MAAM;AAE5B,SAASC,cAAcA,CAACC,KAAa,EAAe;EACzD,IAAI,CAACA,KAAK,EAAE;IACV,OAAO;MAAEC,KAAK,EAAE,EAAE;AAAEC,MAAAA,UAAU,EAAE;KAAI;AACtC,EAAA;AAEA,EAAA,MAAMC,IAAI,GAAGH,KAAK,EAAE;AAEpB,EAAA,IAAII,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACvB,OAAO;MAAEF,KAAK,EAAE,EAAE;AAAEC,MAAAA,UAAU,EAAEC;KAAM;AACxC,EAAA;EAEA,IAAI,CAACA,IAAI,EAAE;IACT,OAAO;MAAEF,KAAK,EAAE,EAAE;AAAEC,MAAAA,UAAU,EAAE;KAAI;AACtC,EAAA;;AAEA;AACF;AACA;AACE,EAAA,IAAI,YAAY,IAAIC,IAAI,IAAI,OAAO,IAAIA,IAAI,EAAE;AAC3C,IAAA,OAAOA,IAAI;AACb,EAAA;EAEA,OAAO;AAAEF,IAAAA,KAAK,EAAEE,IAA+B;AAAED,IAAAA,UAAU,EAAE;GAAI;AACnE;;;;"}